<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrenamiento: Números Reales y Radicales (10mo EGB)</title>
    <link rel="icon" type="image/x-icon" href="logo2.ico">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script>
    // Configuración de MathJax
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']], 
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600;800&display=swap" rel="stylesheet">
    <style>
        /* --- ESTILOS CSS (10mo EGB: MARRÓN/BRONCE) --- */
        :root {
            --primary-color: #192a56; 
            --egb-color: #8D4B08; /* Color Marrón/Bronce para Números Reales Avanzados */
            --secondary-color: #6c757d;
            --success-color: #28A745; 
            --error-color: #DC3545;
            --light-color: #F8F9FA;
            --font-main: 'Poppins', sans-serif;
            --feedback-delay: 2000ms;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--light-color);
            color: var(--primary-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0;
            margin: 0;
            min-height: 100vh;
            padding-top: 80px; 
        }

        /* --- HEADER Y LOGO (Fijo Superior - Patrón 9no) --- */
        header {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--egb-color); 
            color: var(--light-color);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            position: fixed; 
            top: 0;
            left: 0;
            z-index: 20;
            height: 50px;
        }
        .header-content {
            text-align: center;
            flex-grow: 1;
        }
        #header-logo {
            height: 50px; 
            position: absolute;
            left: 20px;
        }
        header h1 {
            font-size: 1.5em;
            font-weight: 800;
            margin: 0;
        }
        
        /* --- CONTROLES FLOTANTES LATERALES (Patrón 9no) --- */
        .fixed-buttons {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 15;
        }
        
        .fixed-buttons.left {
            left: 10px;
        }
        .fixed-buttons.right {
            right: 10px;
        }
        
        .nav-button {
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            color: white;
            background-color: var(--primary-color);
            text-decoration: none;
            text-align: center;
        }
        .nav-button:hover {
            transform: scale(1.05);
            background-color: #2c437a;
        }
        
        /* Estilos específicos para Comenzar/Parar */
        .control-button {
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1em;
            border: none;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: background-color 0.2s;
        }
        #startButton {
            background-color: var(--success-color);
        }
        #startButton:hover {
            background-color: #1E7E34;
        }
        #stopButton {
            background-color: var(--error-color);
            display: none;
        }
        #stopButton:hover {
            background-color: #C82333;
        }

        /* --- CONTENEDOR PRINCIPAL (MAIN) --- */
        main {
            padding-top: 20px;
            padding-bottom: 20px;
            width: 90%;
            max-width: 900px;
            flex-grow: 1;
        }
        
        /* --- SECCIÓN DE CONTROL DE TEMAS (CENTRADA - Patrón 9no) --- */
        .topic-selector-container {
            width: 100%;
            text-align: center;
            margin: 20px 0 10px 0;
            padding: 15px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .topic-selector-container label {
            font-size: 1.1em;
            font-weight: 600;
            color: var(--egb-color);
            margin-right: 10px;
        }
        .topic-selector-container select {
            padding: 8px 12px;
            border-radius: 6px;
            border: 2px solid var(--egb-color);
            font-family: var(--font-main);
            font-size: 1em;
        }
        
        /* --- ÁREA DE PROBLEMAS Y PUNTUACIÓN --- */
        .problem-container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.05);
            min-height: 300px;
        }

        #problemArea {
            font-size: 1.8em;
            font-weight: 600;
            text-align: center;
            margin-bottom: 30px;
            min-height: 50px;
        }

        .options-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        .option-button {
            background-color: var(--light-color);
            color: var(--primary-color);
            border: 2px solid var(--egb-color);
            padding: 15px 25px;
            font-size: 1.2em;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s;
            flex-basis: calc(50% - 10px); 
            max-width: 48%;
            text-align: center;
            font-weight: 500;
        }

        .option-button:hover:not(:disabled) {
            background-color: var(--egb-color);
            color: white;
        }
        
        #feedback {
            margin-top: 20px;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            font-weight: 600;
            min-height: 30px;
        }
        
        .score-display {
            margin-top: 20px;
            padding: 10px;
            border-top: 1px dashed #ccc;
            font-size: 1em;
            text-align: center;
        }

        /* --- FOOTER (Patrón 9no) --- */
        footer {
            width: 100%;
            padding: 15px 0;
            margin-top: auto; 
            text-align: center;
            background-color: var(--primary-color);
            color: #ccc;
            font-size: 0.8em;
        }
        .footer-credits {
            font-weight: 600;
            margin-bottom: 5px;
            color: white;
        }
        
        /* --- ADAPTACIÓN MÓVIL (Patrón 9no) --- */
        @media (max-width: 800px) {
            .fixed-buttons {
                position: static;
                transform: none;
                flex-direction: row;
                justify-content: space-around;
                width: 100%;
                padding: 10px 0;
            }
            .fixed-buttons.right {
                order: 1; 
                margin: 10px auto;
                max-width: 300px;
            }
            .fixed-buttons.left {
                position: fixed; 
                bottom: 0;
                left: 0;
                right: 0;
                background-color: white;
                box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
                padding: 10px 5px;
                gap: 5px;
            }
            .nav-button, .control-button {
                flex-grow: 1;
                padding: 10px 5px;
                font-size: 0.8em;
            }
            main {
                padding-top: 70px;
                padding-bottom: 70px; 
            }
            .topic-selector-container {
                 margin-top: 10px;
            }
            header {
                padding: 10px 5px;
            }
            #header-logo {
                height: 40px;
                left: 10px;
            }
            header h1 {
                font-size: 1.3em;
            }
        }
    </style>
</head>
<body>
    <header>
        <img id="header-logo" src="mathtrainer.jpg" alt="Logo MathTrainer">
        <div class="header-content">
            <h1>MathTrainer 10mo EGB: Módulo 10.1</h1>
        </div>
    </header>

    <div class="fixed-buttons left">
        <a href="menu_10mo.html" class="nav-button" onclick="if(typeof playClickSound === 'function') playClickSound();">🏠 INICIO</a>
        <a href="10_reales_resultados.html" class="nav-button" onclick="if(typeof playClickSound === 'function') playClickSound();">📊 RESULTADOS</a>
        <a href="10_reales_tutorial.html" class="nav-button" onclick="if(typeof playClickSound === 'function') playClickSound();">📖 TUTORIAL</a>
    </div>

    <div class="fixed-buttons right">
        <button id="startButton" class="control-button">Comenzar</button>
        <button id="stopButton" class="control-button">Parar</button>
    </div>

    <main>
        <div class="topic-selector-container">
            <h2>Tema Actual: <span id="currentTopicName">1. Potenciación y Notación Científica</span></h2>
            <label for="temaSelector">Seleccionar Tema:</label>
            <select id="temaSelector">
                <option value="cientifica">1. Potenciación y Notación Científica</option>
                <option value="radicales">2. Operaciones con Radicales</option>
                <option value="racionalizacion">3. Racionalización del Denominador</option>
                <option value="todos">4. TODOS los Temas (Aleatorio)</option>
            </select>
        </div>


        <section class="problem-container">
            <div id="problemArea">
                Selecciona un tema y presiona **Comenzar** para iniciar el entrenamiento.
            </div>
            
            <div id="optionsContainer" class="options-container">
                </div>

            <div id="feedback">
                </div>
            
            <div class="score-display">
                Puntuación: <strong id="scoreDisplay">0</strong> | 
                Correctas: <strong id="correctDisplay" style="color: var(--success-color);">0</strong> | 
                Incorrectas: <strong id="incorrectDisplay" style="color: var(--error-color);">0</strong>
                | Tiempo: <strong id="timerDisplay">60s</strong>
            </div>
        </section>
    </main>

    <script>
        // --- CONSTANTES GLOBALES ---
        const FEEDBACK_DELAY = 3000; // 3 SEGUNDOS DE ESPERA
        const STORAGE_KEY_10_1 = 'realesRadicalesHistory';
        let isGameRunning = false;
        let score = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let currentProblem = {};
        let autoAdvanceTimeout;
        let timer = 60; // TIEMPO INICIAL (60 SEGUNDOS)
        let intervalID; // ID DEL INTERVALO DEL TEMPORIZADOR

        // --- REFERENCIAS DOM ---
        const temaSelector = document.getElementById('temaSelector');
        const startButton = document.getElementById('startButton');
        const stopButton = document.getElementById('stopButton');
        const problemArea = document.getElementById('problemArea');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedback = document.getElementById('feedback');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const correctDisplay = document.getElementById('correctDisplay');
        const incorrectDisplay = document.getElementById('incorrectDisplay');
        const currentTopicName = document.getElementById('currentTopicName');
        const timerDisplay = document.getElementById('timerDisplay');

        // --- FUNCIONES UTILITY (Generación de problemas) ---
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function mcd(a, b) {
            a = Math.abs(a);
            b = Math.abs(b);
            return b ? mcd(b, a % b) : a;
        }

        function reduceRadical(num, index = 2) {
            let k = 1; 
            let r = num; 
            let factor = 2;

            while (factor * factor <= r) {
                let count = 0;
                while (r % factor === 0) {
                    r /= factor;
                    count++;
                }
                k *= Math.pow(factor, Math.floor(count / index));
                r *= Math.pow(factor, count % index);
                factor++;
            }
            return { coefficient: k, radicand: r, index: index }; 
        }

        // Sub-Módulo 10.1.1: Potenciación y Notación Científica
        function generateScientificOpProblem() {
            const type = Math.floor(Math.random() * 2); 
            let a = (Math.random() * 9) + 1;
            let b = (Math.random() * 9) + 1;
            let n = Math.floor(Math.random() * 10) - 5; 
            let m = Math.floor(Math.random() * 10) - 5;
            
            a = parseFloat(a.toFixed(2));
            b = parseFloat(b.toFixed(2));

            let question;
            let result_coeff, result_exp;

            if (type === 0) { // Multiplicación
                question = `( ${a} \\cdot 10^{${n}} ) \\cdot ( ${b} \\cdot 10^{${m}} )`;
                result_coeff = a * b;
                result_exp = n + m;
            } else { // División
                question = `\\frac{${a} \\cdot 10^{${n}}}{${b} \\cdot 10^{${m}}}`;
                result_coeff = a / b;
                result_exp = n - m;
            }

            // Normalización
            if (result_coeff >= 10) {
                result_coeff /= 10;
                result_exp += 1;
            } else if (result_coeff < 1 && result_coeff !== 0) {
                 result_coeff *= 10;
                 result_exp -= 1;
            }

            const expectedAnswer = `${parseFloat(result_coeff.toFixed(2))} \\cdot 10^{${result_exp}}`;
            
            // Generación de distractores
            const options = [
                expectedAnswer,
                `${parseFloat((a * b).toFixed(2))} \\cdot 10^{${n + m}}`, 
                `${parseFloat(result_coeff.toFixed(2))} \\cdot 10^{${result_exp + 1}}`,
                `${parseFloat(result_coeff.toFixed(2))} \\cdot 10^{${result_exp - 1}}`
            ];

            return {
                question: `**Resuelva la operación y exprese el resultado en Notación Científica:** $\\small ${question}$`,
                expectedAnswer: expectedAnswer,
                options: shuffleArray(options),
                topic: 'Potenciación y Notación Científica',
                score: 10
            };
        }

        // Sub-Módulo 10.1.2: Operaciones con Radicales
        function generateRadicalOperationProblem() {
            const baseRadicand = Math.floor(Math.random() * 5) + 2; 
            const n1_raw = baseRadicand * (Math.floor(Math.random() * 4) + 2) ** 2;
            const n2_raw = baseRadicand * (Math.floor(Math.random() * 4) + 2) ** 2;
            let a = Math.floor(Math.random() * 5) + 1;
            let b = Math.floor(Math.random() * 5) + 1;
            let op = Math.random() < 0.5 ? '+' : '-';

            const r1 = reduceRadical(n1_raw);
            const r2 = reduceRadical(n2_raw); 

            const c1 = a * r1.coefficient;
            const c2 = b * r2.coefficient;

            const question = `$${a}\\sqrt{${n1_raw}} ${op} ${b}\\sqrt{${n2_raw}}$`;

            let result_coeff = (op === '+') ? c1 + c2 : c1 - c2;
            const expectedAnswer = `${result_coeff}\\sqrt{${r1.radicand}}`;

            const options = [
                expectedAnswer,
                `${(op === '+') ? a + b : a - b}\\sqrt{${r1.radicand}}`, 
                `${result_coeff + 1}\\sqrt{${r1.radicand}}`, 
                `${result_coeff}\\sqrt{${n1_raw + n2_raw}}`, 
            ];

            return {
                question: `**Simplifique y resuelva la operación con radicales:** ${question}`,
                expectedAnswer: expectedAnswer,
                options: shuffleArray(options),
                topic: 'Operaciones con Radicales',
                score: 15
            };
        }

        // Sub-Módulo 10.1.3: Racionalización del Denominador (Caso 1: Monomio)
        function generateRationalizationProblem() {
            const a = Math.floor(Math.random() * 10) + 1;
            const b = Math.floor(Math.random() * 15) + 2;

            const question = `Racionalice el denominador: $\\frac{${a}}{\\sqrt{${b}}}$`;
            
            // Lógica de respuesta esperada: a*sqrt(b) / b
            const divisor = mcd(a, b);
            const num_final = a / divisor;
            const den_final = b / divisor;

            let expectedAnswer;
            if (den_final === 1) {
                expectedAnswer = `${num_final}\\sqrt{${b}}`;
            } else {
                expectedAnswer = `\\frac{${num_final}\\sqrt{${b}}}{${den_final}}`;
            }
            
            const options = [
                expectedAnswer,
                `\\frac{${a}\\sqrt{${b}}}{${b}}`, 
                `\\frac{\\sqrt{${b}}}{${a}}`, 
                `\\frac{${a}}{${b}\\sqrt{${b}}}` 
            ];

            return {
                question: question,
                expectedAnswer: expectedAnswer,
                options: shuffleArray(options),
                topic: 'Racionalización del Denominador',
                score: 20
            };
        }

        // --- FUNCIONES DEL TEMPORIZADOR ---

        function startTimer() {
            clearInterval(intervalID); 
            timer = 60; 
            timerDisplay.textContent = timer + 's';
            
            intervalID = setInterval(() => {
                timer--;
                timerDisplay.textContent = timer + 's';
                
                if (timer <= 10) { 
                    timerDisplay.style.color = 'var(--error-color)'; 
                } else {
                    timerDisplay.style.color = 'inherit'; 
                }

                if (timer <= 0) {
                    clearInterval(intervalID);
                    checkTimeout();
                }
            }, 1000);
        }

        function checkTimeout() {
            if (!isGameRunning) return;

            Array.from(optionsContainer.children).forEach(btn => btn.disabled = true);
            
            // Penalización por tiempo agotado
            score = Math.max(0, score - Math.floor(currentProblem.score / 2)); 
            incorrectAnswers++;
            
            scoreDisplay.textContent = score;
            incorrectDisplay.textContent = incorrectAnswers;

            feedback.style.backgroundColor = 'var(--error-color)';
            feedback.style.color = 'white';
            feedback.innerHTML = `¡Tiempo Agotado! La respuesta correcta era: **$${currentProblem.expectedAnswer}$**`;
            // LLAMADA SONIDO INCORRECTO
            if (typeof playIncorrectSound === 'function') { playIncorrectSound(); }

            if (typeof MathJax !== 'undefined') {
                 MathJax.typeset([feedback]);
            }

            // APLICA EL RETRASO DE 3 SEGUNDOS
            autoAdvanceTimeout = setTimeout(() => {
                 feedback.innerHTML = '';
                 generateProblem(); // Avanza al siguiente problema
            }, FEEDBACK_DELAY);
        }


        // --- FUNCIÓN PRINCIPAL DE GENERACIÓN ---
        function generateProblem() {
            if (autoAdvanceTimeout) {
                clearTimeout(autoAdvanceTimeout);
            }
            feedback.innerHTML = '';
            optionsContainer.innerHTML = '';
            
            const topic = temaSelector.value;
            let problemData;
            
            switch (topic) {
                case 'cientifica':
                    problemData = generateScientificOpProblem();
                    break;
                case 'radicales':
                    problemData = generateRadicalOperationProblem();
                    break;
                case 'racionalizacion':
                    problemData = generateRationalizationProblem();
                    break;
                case 'todos':
                default:
                    const topics = ['cientifica', 'radicales', 'racionalizacion'];
                    const randomTopic = topics[Math.floor(Math.random() * topics.length)];
                    temaSelector.value = randomTopic;
                    return generateProblem(); 
            }
            
            currentProblem = problemData;
            
            problemArea.innerHTML = currentProblem.question;
            currentTopicName.textContent = currentProblem.topic;
            // Se realiza el typesetting de MathJax para renderizar las ecuaciones
            if (typeof MathJax !== 'undefined') {
                 MathJax.typeset([problemArea, currentTopicName]);
            }

            // Generar botones de opción
            currentProblem.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-button';
                button.innerHTML = `$${option}$`;
                button.value = option;
                button.onclick = () => {
                    // LLAMADA SONIDO CLICK
                    if (typeof playClickSound === 'function') { playClickSound(); }
                    checkAnswer(option);
                };
                optionsContainer.appendChild(button);
            });
            if (typeof MathJax !== 'undefined') {
                 MathJax.typeset([optionsContainer]);
            }

            startTimer(); // INICIA EL TEMPORIZADOR PARA LA NUEVA PREGUNTA
        }

        // --- FUNCIÓN DE VALIDACIÓN DE RESPUESTA ---
        function checkAnswer(selectedOption) {
            if (!isGameRunning) return;
            
            clearInterval(intervalID); // DETIENE EL TEMPORIZADOR AL RESPONDER

            Array.from(optionsContainer.children).forEach(btn => btn.disabled = true);

            const isCorrect = selectedOption === currentProblem.expectedAnswer;
            const selectedButton = Array.from(optionsContainer.children).find(btn => btn.value === selectedOption);

            if (isCorrect) {
                score += currentProblem.score;
                correctAnswers++;
                feedback.style.backgroundColor = 'var(--success-color)';
                feedback.style.color = 'white';
                feedback.innerHTML = '¡Correcto! Respuesta: $'+currentProblem.expectedAnswer+'$';
                if (selectedButton) selectedButton.style.backgroundColor = 'var(--success-color)';
                // LLAMADA SONIDO CORRECTO
                if (typeof playCorrectSound === 'function') { playCorrectSound(); }

            } else {
                score = Math.max(0, score - Math.floor(currentProblem.score / 2)); 
                incorrectAnswers++;
                feedback.style.backgroundColor = 'var(--error-color)';
                feedback.style.color = 'white';
                feedback.innerHTML = `Incorrecto. La respuesta correcta era: **$${currentProblem.expectedAnswer}$**`;
                if (selectedButton) selectedButton.style.backgroundColor = 'var(--error-color)';
                // LLAMADA SONIDO INCORRECTO
                if (typeof playIncorrectSound === 'function') { playIncorrectSound(); }
            }

            scoreDisplay.textContent = score;
            correctDisplay.textContent = correctAnswers;
            incorrectDisplay.textContent = incorrectAnswers;

            if (typeof MathJax !== 'undefined') {
                 MathJax.typeset([feedback]);
            }
            
            // APLICA EL RETRASO DE 3 SEGUNDOS
            autoAdvanceTimeout = setTimeout(() => {
                 feedback.innerHTML = '';
                 generateProblem();
            }, FEEDBACK_DELAY);
        }

        // --- FUNCIONES DEL BUCLE DE JUEGO ---
        function resetInterface() {
            isGameRunning = false;
            score = 0;
            correctAnswers = 0;
            incorrectAnswers = 0;
            scoreDisplay.textContent = 0;
            correctDisplay.textContent = 0;
            incorrectDisplay.textContent = 0;
            
            currentTopicName.textContent = temaSelector.options[temaSelector.selectedIndex].text.substring(3);
            
            problemArea.innerHTML = 'Selecciona un tema y presiona **Comenzar** para iniciar el entrenamiento.';
            optionsContainer.innerHTML = '';
            feedback.innerHTML = '';

            startButton.style.display = 'block';
            stopButton.style.display = 'none';
            
            if (intervalID) clearInterval(intervalID); // DETIENE TEMPORIZADOR
            timerDisplay.textContent = '60s'; // REINICIA PANTALLA DEL TEMPORIZADOR

            if (autoAdvanceTimeout) clearTimeout(autoAdvanceTimeout);
            // LLAMADA SONIDO MÚSICA STOP
            if (typeof stopStartSound === 'function') { stopStartSound(); } 
        }

        function startGame() {
            // LLAMADA SONIDO CLICK
            if (typeof playClickSound === 'function') { playClickSound(); }
            
            resetInterface();
            isGameRunning = true;
            startButton.style.display = 'none';
            stopButton.style.display = 'block';
            
            currentTopicName.textContent = temaSelector.options[temaSelector.selectedIndex].text.substring(3);

            generateProblem();
            // LLAMADA SONIDO MÚSICA START
            if (typeof playStartSound === 'function') { playStartSound(); } 
        }

        /**
         * FUNCIÓN CORREGIDA: Detiene el juego inmediatamente sin cuadro de confirmación.
         */
        function stopGame() {
            // LLAMADA SONIDO CLICK
            if (typeof playClickSound === 'function') { playClickSound(); }

            // 1. Guardar el puntaje final
            if (typeof updateGlobalScore === 'function') {
                updateGlobalScore(score); 
            }
            
            // 2. Detener el juego, música y limpiar la interfaz
            if (autoAdvanceTimeout) clearTimeout(autoAdvanceTimeout);
            resetInterface();
            
            // 3. Mostrar mensaje de finalización
            problemArea.innerHTML = "Entrenamiento terminado. Puntuación final: " + score + ". Revisa tus resultados.";
        }

        // --- Event Listeners y Inicialización ---
        
        document.addEventListener('DOMContentLoaded', () => {
            resetInterface(); 
            currentTopicName.textContent = temaSelector.options[temaSelector.selectedIndex].text.substring(3);

            temaSelector.addEventListener('change', () => {
                 // LLAMADA SONIDO CLICK
                 if (typeof playClickSound === 'function') { playClickSound(); }
                 
                 if (isGameRunning) {
                    generateProblem(); 
                 } else {
                    currentTopicName.textContent = temaSelector.options[temaSelector.selectedIndex].text.substring(3);
                 }
            });
            
            startButton.addEventListener('click', startGame);
            stopButton.addEventListener('click', stopGame); 
        });

    </script>
<script src="audio_manager.js"></script>
<script src="gamificacion.js"></script>
<footer>
    <p class="footer-credits">PROYECTO DE TITULACIÓN</p>
    <p>UNIVERSIDAD ESTATAL DE MILAGRO (UNEMI)</p>
    <p class="footer-credits">Desarrollado por: **César Paúl Camacho Rivera**</p>
    <p>&copy; 2025 MathTrainer - Números Reales Avanzados</p>
</footer>
</body>
</html>